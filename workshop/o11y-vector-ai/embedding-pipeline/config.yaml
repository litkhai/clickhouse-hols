# Embedding Pipeline Configuration

# ClickHouse connection (will be overridden by environment variables)
clickhouse:
  host: "${CLICKHOUSE_HOST}"
  port: "${CLICKHOUSE_PORT}"
  user: "${CLICKHOUSE_USER}"
  password: "${CLICKHOUSE_PASSWORD}"
  database: "${CLICKHOUSE_DB}"
  secure: true

# OpenAI configuration
openai:
  api_key: "${OPENAI_API_KEY}"
  model: "text-embedding-ada-002"
  max_tokens: 8191
  batch_size: 100  # Process up to 100 items per batch

# Processing schedule
schedule:
  interval_seconds: 60  # Run every 60 seconds
  lookback_hours: 1     # Process logs from last 1 hour

# Filters
filters:
  # Only create embeddings for these severity levels
  severity_levels:
    - ERROR
    - FATAL
    - CRITICAL
    - WARNING

  # Max logs to process per run
  max_logs_per_run: 1000
  max_traces_per_run: 500
